------------------------------------------------------------------------------------------------------------
-- Time Leap Quest 2 Ver 0.1
--
-- Begin : 2008-08-25
--
-- Copyright : ¨Ï NTL-Inc Co., Ltd
--
-- Author : YeoHyeonJoon (souled@ntl-inc.com)
------------------------------------------------------------------------------------------------------------

GameStage(0)
--[

-- Wait until PC enter area
	Action("wait")
	--[
		Condition( "area enter" )
		--[   
			Param( "origin x", 349.418)
			Param( "origin z", 129.1)
			Param( "radius",10)
		--]
	    End()
	--]
	End()

--BGM Play
	Action( "play bgm" )
	--[
		Param( "play", "true")
		Param( "name", "BGM\\BGM_TMQ_EVENT.ogg")
		Param( "loop", "true")
	--]
	End()
	
--cinematic chichi father (ox-king) throw the axe
	Action( "direct play" )
	--[
		Param( "type", "cinematic" )
		Param( "id", 1037 )
		Param("sync","true")
	--]  
	End()
	
--Send notification to quest that cinematic is finished
	Action( "send event to ts" )
	--[
		Param( "trigger type", "quest" )
		Param( "apply type", "register all")
		Param( "event id",16502)
	--]
	End()
	
--ox-king spawn
	Action( "add npc" )
	--[
		Param( "index", 2991101)
		Param( "loc x", 349.418)
		Param( "loc y", -92)
		Param( "loc z", 129.1)
		Param( "dir x", 1.00)
		Param( "dir z", 0.00)
	--]
	End()
	
--Wait until receive quest event
	Action("wait")
	--[
		Condition( "recv ts event" )
		--[
			Param( "trigger type", "quest" );
			Param( "event id", 16500 )
		--]
		End()
	--]
	End()
	
--Ox-King spawn(mob)
	Action( "add mob" )
	--[
		Param( "index", 3751101)
		Param( "group", 101)
		Param( "loc x", 349.418)
		Param( "loc y", -92)
		Param( "loc z", 129.1)
		Param( "dir x", 1.00)
		Param( "dir z", 0.00)
		Param( "no spawn wait", "true" )
	--]
	End()
	
--Remove Ox King NPC
	Action( "remove npc" )
	--[
		Param( "index", 2991101 )
		Param( "type", "clear" )
	--]
	End()
	
--¿ì¸¶¿Õ LP Ã¼Å©
	Action( "wait" )
	--[
		Condition( "check lp" )
		--[
			Param( "type", "mob" )
			Param("group", 101)
			Param("lp", 30)
		--]
		End()
	--]
	End()
	
--¿ì¸¶¿Õ ½ºÆù
	Action( "add npc" )
	--[
		Param( "index", 2991101)
		Param( "loc x", 349.418)
		Param( "loc y", -92)
		Param( "loc z", 129.1)
		Param( "dir x", 1.00)
		Param( "dir z", 0.00)
	--]
	End()
	
--¿ì¸¶¿Õ È®ÀÎ»ç»ì
	Action( "remove mobgroup" )
	--[
		Param( "group", 101 )
		Param( "type", "clear" )
	--]
	End()	
	
--user ÇØ¸í ½ÃÀÛ
	Action( "send event to ts" )
	--[
		Param( "trigger type", "quest" )
		Param( "apply type", "register all")
		Param( "event id",16510)
	--]
	End()
	
--user ÇØ¸í Á¾·á±îÁö ´ë±â
	Action("wait")
	--[
		Condition( "recv ts event" )
		--[
			Param( "trigger type", "quest" );
			Param( "event id", 16511 )
		--]
		End()
	--]
	End()
	
--BGM Play
	Action( "play bgm" )
	--[
		Param( "play", "true")
		Param( "name", "BGM\\BGM_TLQ1.ogg")
		Param( "loop", "true")
	--]
	End()
	
--¿ì¸¶¿Õ Áö¿ì±â	
	Action( "remove npc" )
	--[
		Param( "index", 2991101 )
		Param( "type", "clear" )
	--]
	End()
	
--cinematic ¼Õ¿À°ø ¿ì¸¶¿Õ °ç¿¡ ÂøÁö.
	Action( "direct play" )
	--[
		Param( "type", "cinematic" )
		Param( "id", 1038 )
		Param("sync","true")
	--]  
	End()
	
--¿ì¸¶¿Õ ½ºÆù
	Action( "add npc" )
	--[
		Param( "index", 2991101)
		Param( "loc x", 349.418)
		Param( "loc y", -92)
		Param( "loc z", 129.1)
		Param( "dir x", 1.00)
		Param( "dir z", 0.00)
	--]
	End()
	
--¿À°ø ½ºÆù
	Action( "add npc" )
	--[
		Param( "index", 2741101)
		Param( "loc x", 350.85)
		Param( "loc y", -92)
		Param( "loc z", 131.06)
		Param( "dir x", 0.92)
		Param( "dir z", -0.39)
	--]
	End()
	
--¼Õ¿À°ø ´ë»ç ½ÃÀÛ
	Action( "send event to ts" )
	--[
		Param( "trigger type", "quest" )
		Param( "apply type", "register all")
		Param( "event id",16512)
	--]
	End()
	
--user ÇØ¸í Á¾·á±îÁö ´ë±â
	Action("wait")
	--[
		Condition( "recv ts event" )
		--[
			Param( "trigger type", "quest" );
			Param( "event id", 16516 )
		--]
		End()
	--]
	End()
	
-- ¿ì¸¶¿Õ Áö¿ì±â	
	Action( "remove npc" )
	--[
		Param( "index", 2991101 )
		Param( "type", "clear" )
	--]
	End()

-- ¼Õ¿À°ø Áö¿ì±â	
	Action( "remove npc" )
	--[
		Param( "index", 2741101 )
		Param( "type", "clear" )
	--]
	End()
	
--cinematic ¼Õ¿À°ø ¿ì¸¶¿Õ ¶°³ª±â
	Action( "direct play" )
	--[
		Param( "type", "cinematic" )
		Param( "id", 1039 )
		Param("sync","true")
	--]  
	End()

--¿ì¸¶¿Õ ½ºÆù
	Action( "add npc" )
	--[
		Param( "index", 2991101)
		Param( "loc x", 349.418)
		Param( "loc y", -92)
		Param( "loc z", 129.1)
		Param( "dir x", -0.00)
		Param( "dir z", -1.00)
	--]
	End()

--±â½À°ø·æµé ½ºÆù
	Action( "add mobgroup" )
	--[
		Param( "group", 1 )
	--]
	End()
	
--ÂîÂî ½ºÆù
	Action( "add npc" )
	--[
		Param( "index", 1711201)
		Param( "loc x", 137.20)
		Param( "loc y", -88)
		Param( "loc z", -199.18)
		Param( "dir x", -0.53)
		Param( "dir z", 0.85)
		--Param( "play script", 1711101 )
		--Param( "play scene", 1 )
	--]
	End()
	
--PC ÁøÀÔ±îÁö ´ë±â
	Action("wait")
	--[
		Condition( "area enter" )
		--[   
			Param( "origin x", 137.20)
			Param( "origin z", -199.18)
			Param( "radius",20)
		--]
	    End()
    --]
	End()
	
--BGM Play
	Action( "play bgm" )
	--[
		Param( "play", "true")
		Param( "name", "BGM\\BGM_TMQ_EVENT.ogg")
		Param( "loop", "true")
	--]
	End()
	
--ÂîÂî Áö¿ì±â	
	Action( "remove npc" )
	--[
		Param( "index", 1711201 )
		Param( "type", "clear" )
	--]
	End()
	
--cinematic ÂîÂî¸¦ ³ë¸®´Â °ø·æ
	Action( "direct play" )
	--[
		Param( "type", "cinematic" )
		Param( "id", 1036 )
		Param("sync","true")
	--]  
	End()
	
--ÂîÂî ½ºÆù
	Action( "add npc" )
	--[
		Param( "index", 1711201)
		Param( "loc x", 137.20)
		Param( "loc y", -88)
		Param( "loc z", -199.18)
		Param( "dir x", -0.53)
		Param( "dir z", 0.85)
		Param( "play script", 1711101 )
		Param( "play scene", 1 )
	--]
	End()
	
--ÂîÂî °ç °ø·æ  ½ºÆù
	Action( "add mobgroup" )
	--[
		Param( "group", 2 )
	--]
	End()
	
--ÂîÂî °ç °ø·æ LP Ã¼Å©
	Action( "wait" )
	--[
		Condition( "check lp" )
		--[
			Param( "type", "mob" )
			Param("group", 2)
			Param("lp", 95)
		--]
		End()
	--]
	End()
	
--ÂîÂî ¹ß°ß ´ë»ç
	Action( "send event to ts" )
	--[
		Param( "trigger type", "quest" )
		Param( "apply type", "register all")
		Param( "event id",16515)
	--]
	End()
	
--ÂîÂî °ç °ø·æ LP Ã¼Å©
	Action( "wait" )
	--[
		Condition( "check lp" )
		--[
			Param( "type", "mob" )
			Param("group", 2)
			Param("lp", 80)
		--]
		End()
	--]
	End()
	
--Áö¿ø °ø·æ1  ½ºÆù
	Action( "add mobgroup" )
	--[
		Param( "group", 3 )
		Param( "play script", 8211100 )
		Param( "play scene", 1 )
	--]
	End()
	
--Áö¿ø °ø·æ1 LP Ã¼Å©
	Action( "wait" )
	--[
		Condition( "check lp" )
		--[
			Param( "type", "mob" )
			Param("group", 3)
			Param("lp", 80)
		--]
		End()
	--]
	End()
	
--Áö¿ø °ø·æ2  ½ºÆù
	Action( "add mobgroup" )
	--[
		Param( "group", 4 )
		Param( "play script", 8211100 )
		Param( "play scene", 1 )
	--]
	End()
	
--Áö¿ø °ø·æ2 LP Ã¼Å©
	Action( "wait" )
	--[
		Condition( "check lp" )
		--[
			Param( "type", "mob" )
			Param("group", 4)
			Param("lp", 75)
		--]
		End()
	--]
	End()
	
--Áö¿ø °ø·æ3  ½ºÆù
	Action( "add mobgroup" )
	--[
		Param( "group", 5 )
		Param( "play script", 8211100 )
		Param( "play scene", 1 )
	--]
	End()
	
--¸÷ Ä«¿îÆ®
	Action( "wait" )
	--[ 
		Param( "operation", "and" )
		
		Condition( "check mobgroup" )
		--[   
			Param( "group", 2)
			Param( "count", 1)
		--]
		End()
		
		Condition( "check mobgroup" )
		--[   
			Param( "group", 3)
			Param( "count", 1)
		--]
		End()
		
		Condition( "check mobgroup" )
		--[   
			Param( "group", 4)
			Param( "count", 1)
		--]
		End()
		
		Condition( "check mobgroup" )
		--[   
			Param( "group", 5)
			Param( "count", 1)
		--]
		End()
	--]
	End()
	
--BGM Play
	Action( "play bgm" )
	--[
		Param( "play", "true")
		Param( "name", "BGM\\BGM_TLQ1.ogg")
		Param( "loop", "true")
	--]
	End()
	
--ÂîÂî Å¬¸¯ È°¼ºÈ­
	Action( "send event to ts" )
	--[
		Param( "trigger type", "quest" )
		Param( "apply type", "register all")
		Param( "event id",16530)
	--]
	End()
	
--ÂîÂî ´ëÈ­ Á¾·á±îÁö ´ë±â
	Action("wait")
	--[
		Condition( "recv ts event" )
		--[
			Param( "trigger type", "quest" );
			Param( "event id", 16540 )
		--]
		End()
	--]
	End()
	
--BGM Play
	Action( "play bgm" )
	--[
		Param( "play", "true")
		Param( "name", "BGM\\BGM_TMQ_EVENT.ogg")
		Param( "loop", "true")
	--]
	End()
	
--ÂîÂî ½ºÆù
	Action( "add mob" )
	--[
		Param( "index", 2451101)
		Param( "group", 102)
		Param( "loc x", 137.20)
		Param( "loc y", -88)
		Param( "loc z", -199.18)
		Param( "dir x", -0.53)
		Param( "dir z", 0.85)
	--]
	End()
	
--ÂîÂî Áö¿ì±â	
	Action( "remove npc" )
	--[
		Param( "index", 1711201 )
		Param( "type", "clear" )
	--]
	End()
	
--ÂîÂî LP Ã¼Å©
	Action( "wait" )
	--[
		Condition( "check lp" )
		--[
			Param( "type", "mob" )
			Param("group", 102)
			Param("lp", 30)
		--]
		End()
	--]
	End()
	
--ÂîÂî ½ºÆù
	Action( "add npc" )
	--[
		Param( "index", 1711101)
		Param( "loc x", 137.20)
		Param( "loc y", -88)
		Param( "loc z", -199.18)
		Param( "dir x", -0.53)
		Param( "dir z", 0.85)
	--]
	End()
	
--BGM Play
	Action( "play bgm" )
	--[
		Param( "play", "true")
		Param( "name", "BGM\\BGM_TLQ1.ogg")
		Param( "loop", "true")
	--]
	End()
	
--ÂîÂî È®ÀÎ»ç»ì
	Action( "remove mobgroup" )
	--[
		Param( "group", 102 )
		Param( "type", "clear" )
	--]
	End()
	
--ÂîÂî ´ë»ç(¿ÀÇØÇ®±â)
	Action( "send event to ts" )
	--[
		Param( "trigger type", "quest" )
		Param( "apply type", "register all")
		Param( "event id",16550)
	--]
	End()
	
--ÂîÂî ´ëÈ­ Á¾·á±îÁö ´ë±â
	Action("wait")
	--[
		Condition( "recv ts event" )
		--[
			Param( "trigger type", "quest" );
			Param( "event id", 16560 )
		--]
		End()
	--]
	End()
	
--ÂîÂî Áö¿ì±â	
	Action( "remove npc" )
	--[
		Param( "index", 1711101 )
		Param( "type", "clear" )
	--]
	End()
	
--±â½À°ø·æ È®ÀÎ»ç»ì
	Action( "remove mobgroup" )
	--[
		Param( "group", 1 )
		Param( "type", "clear" )
	--]
	End()
	
--cinematic ¼Õ¿À°øÀÌ ±ÙµÎ¿îÀ» Å¸°í ³ªÅ¸³­´Ù.
	Action( "direct play" )
	--[
		Param( "type", "cinematic" )
		Param( "id", 1031 )
		Param("sync","true")
	--]  
	End()
	
--ÂîÂî ½ºÆù
	Action( "add npc" )
	--[
		Param( "index", 1711101)
		Param( "loc x", 137.20)
		Param( "loc y", -88)
		Param( "loc z", -199.18)
		Param( "dir x", 0.50)
		Param( "dir z", 0.87)
	--]
	End()
	
--¿À°ø ½ºÆù
	Action( "add npc" )
	--[
		Param( "index", 2741101)
		Param( "loc x", 137.98)
		Param( "loc y", -88)
		Param( "loc z", -198.06)
		Param( "dir x", -0.28)
		Param( "dir z", -0.96)
	--]
	End()
	
--¿À°ø ´ë»ç ½ÃÀÛ
	Action( "send event to ts" )
	--[
		Param( "trigger type", "quest" )
		Param( "apply type", "register all")
		Param( "event id",16570)
	--]
	End()
	
--¿À°ø ´ëÈ­ Á¾·á±îÁö ´ë±â
	Action("wait")
	--[
		Condition( "recv ts event" )
		--[
			Param( "trigger type", "quest" );
			Param( "event id", 16580 )
		--]
		End()
	--]
	End()

--ÂîÂî Áö¿ì±â	
	Action( "remove npc" )
	--[
		Param( "index", 1711101 )
		Param( "type", "clear" )
	--]
	End()
	
--¿À°ø Áö¿ì±â	
	Action( "remove npc" )
	--[
		Param( "index", 2741101 )
		Param( "type", "clear" )
	--]
	End()
	
--cinematic goku takes chi-chi and fly away
	Action( "direct play" )
	--[
		Param( "type", "cinematic" )
		Param( "id", 1032 )
		Param("sync","true")
	--]  
	End()	

--¿ì¸¶¿ÕÇÑÅ× °¡¾ßÁö ´ë»ç
	Action( "send event to ts" )
	--[
		Param( "trigger type", "quest" )
		Param( "apply type", "register all")
		Param( "event id",16610)
	--]
	End()
	
--´õ¹Ì ÀÌº¥Æ®·Î ´ë±â
	Action("wait")
	--[
		Condition( "recv ts event" )
		--[
			Param( "trigger type", "quest" );
			Param( "event id", 16020 )
		--]
		End()
	--]
	End()

--]
End()

GameFailed()
--[

--]
End()